<<<<<<< HEAD

%% _______________________________________________________________________________%
%% MAIN Script for Social-Affective Prediction (SAP) Task 
%
% SYNTAX:  ....
%
% AUTHOR:  Coded by: Katharina V. Wellstein, XX.2024,
%                    katharina.wellstein@newcastle.edu.au
% -------------------------------------------------------------------------------%
% This file is released under the terms of the GNU General Public Licence
% (GPL), version 3. You can redistribute it and/or modify it under the
% terms of the GNU General Public License as published by the Free Software
% Foundation, either version 3 of the License, or (at your option) any
% later version.
%
% This file is distributed in the hope that it will be useful, but WITHOUT
% ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
% FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for
% more details.
% 
% You should have received a copy of the GNU General Public License along
% with this program. If not, see <https://www.gnu.org/licenses/>.
% _______________________________________________________________________________%
%
%% _______________________________________________________________________________%
% this script allows the experimenter to specify information on the mode the 
%               task will be run in.
%
% SYNTAX:  XX
%
% OUT:      expMode: - In 'debug' mode timings are shorter, and the experiment
%                     won't be full screen. You may use breakpoints.
%                   - In 'experiment' mode you are running the entire
%                     experiment as it is intended
%
%           PPID:    A 4-digit integer (0001:0999) PPIDs have
%                   been assigned to participants a-priori
%
%           visitNo: A 1-digit integer (1:4). Each participant will be doing
%                   this task 4 times.
%
%  AUTHOR:  Coded by: Katharina V. Wellstein, XX.2024
%                     katharina.wellstein@newcastle.edu.au
% _______________________________________________________________________________%

%% INITIALIZE
close all;
clearvars;
clc; 
% add toolbox to path
addpath(genpath(fullfile([pwd,'/Psychtoolbox-3'])));

%% SPECIFY inputs
expMode = input('Enter ''debug'', ''practice'' or ''experiment'' ','s');
expType = input('Enter ''behav'' or ''fmri'' ','s');
PID     = input('Enter participant id (PID)','s');

%% Check if inputs are correct

if strcmp(expMode, 'debug')     % expMode check
   disp('You are running the SAP task in DEBUG mode'); 
    elseif strcmp(expMode, 'experiment')
           disp('You are running the SAP task in EXPERIMENT mode');
    else
        expMode = input('Your input is not correct, type either ''debug'',''practice'' or ''experiment'' :','s');
end                             % END of mode check

if strcmp(expType, 'behav')% expType check
   disp('You are running the SAP task behaviorally'); 
elseif strcmp(expType, 'fmri')
           disp('You are running the the SAP task in the scanner'); 
    else
        expType = input('Your input is not correct, type either ''behav'' or ''fmri'' :','s');
end % END expType check

if ~numel(PID) == 4 % PPID check
    disp('PID has to be a 4 digit string');
end                  % END PPID check
    
%% SETUP DATAFILE
dataFile = eventCreator.initDataFile(PID,expType,expMode);

%% SETUP OPTIONS
options  = eventCreator.specifyOptions(PID,expMode,expType);

%% SETUP ENVIRONMENT
options  = tools.prepEnvironment(options);

options = eventCreator.initScreen(options,expMode);

%% RUN TASK
runTask(expMode,expType,options,dataFile);

=======

%% _______________________________________________________________________________%
%% MAIN Script for Social-Affective Prediction (SAP) Task 
%
% SYNTAX:  ....
%
% AUTHOR:  Coded by: Katharina V. Wellstein, XX.2024,
%                    katharina.wellstein@newcastle.edu.au
% -------------------------------------------------------------------------------%
% This file is released under the terms of the GNU General Public Licence
% (GPL), version 3. You can redistribute it and/or modify it under the
% terms of the GNU General Public License as published by the Free Software
% Foundation, either version 3 of the License, or (at your option) any
% later version.
%
% This file is distributed in the hope that it will be useful, but WITHOUT
% ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
% FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for
% more details.
% 
% You should have received a copy of the GNU General Public License along
% with this program. If not, see <https://www.gnu.org/licenses/>.
% _______________________________________________________________________________%
%
%% _______________________________________________________________________________%
% this script allows the experimenter to specify information on the mode the 
%               task will be run in.
%
% SYNTAX:  XX
%
% OUT:      expMode: - In 'debug' mode timings are shorter, and the experiment
%                     won't be full screen. You may use breakpoints.
%                   - In 'experiment' mode you are running the entire
%                     experiment as it is intended
%
%           PPID:    A 4-digit integer (0001:0999) PPIDs have
%                   been assigned to participants a-priori
%
%           visitNo: A 1-digit integer (1:4). Each participant will be doing
%                   this task 4 times.
%
%  AUTHOR:  Coded by: Katharina V. Wellstein, XX.2024
%                     katharina.wellstein@newcastle.edu.au
% _______________________________________________________________________________%

%% INITIALIZE
close all;
clearvars;
clc; 
% add toolbox to path
addpath(genpath(fullfile([pwd,'/Psychtoolbox-3'])));

%% SPECIFY inputs
expMode = input('Enter ''debug'', ''practice'' or ''experiment'' ','s');
expType = input('Enter ''behav'' or ''fmri'' ','s');
PID     = input('Enter participant id (PID)','s');

%% Check if inputs are correct

if strcmp(expMode, 'debug')     % expMode check
   disp('You are running the SAP task in DEBUG mode'); 
    elseif strcmp(expMode, 'experiment')
           disp('You are running the SAP task in EXPERIMENT mode');
    else
        expMode = input('Your input is not correct, type either ''debug'',''practice'' or ''experiment'' :','s');
end                             % END of mode check

if strcmp(expType, 'behav')% expType check
   disp('You are running the SAP task behaviorally'); 
elseif strcmp(expType, 'fmri')
           disp('You are running the the SAP task in the scanner'); 
    else
        expType = input('Your input is not correct, type either ''behav'' or ''fmri'' :','s');
end % END expType check

if ~numel(PID) == 4 % PPID check
    disp('PID has to be a 4 digit string');
end                  % END PPID check
    
%% SETUP DATAFILE
dataFile = eventCreator.initDataFile(PID,expType,expMode);

%% SETUP OPTIONS
options  = eventCreator.specifyOptions(PID,expMode,expType);

%% SETUP ENVIRONMENT
options  = tools.prepEnvironment(options);

options = eventCreator.initScreen(options);

%% RUN TASK
runTask(expMode,expType,options,dataFile);

>>>>>>> 9f631d041dff21a58ab3d7694b516e47d77a9470
%%